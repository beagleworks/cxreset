<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cxreset - OpenAI Codex Usage Reset Timer</title>
  <meta name="description" content="Display OpenAI Codex usage reset time in your statusline">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="header">
    <div class="header-content">
      <a href="/" class="logo">cxreset</a>
      <div class="header-controls">
        <button id="lang-toggle" class="toggle-btn" aria-label="Toggle language">
          <span class="lang-label">EN</span>
        </button>
        <button id="theme-toggle" class="toggle-btn" aria-label="Toggle theme">
          <span class="theme-icon">
            <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <line x1="12" y1="1" x2="12" y2="3"/>
              <line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/>
              <line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero">
      <h1 class="hero-title" data-i18n="hero.title">Display OpenAI Codex usage reset time</h1>
      <p class="hero-subtitle" data-i18n="hero.subtitle">A CLI tool that shows when your Codex usage limits will reset. Perfect for statusline integration.</p>

      <div class="install-box">
        <code class="install-command">bunx cxreset</code>
        <button class="copy-btn" data-copy="bunx cxreset" aria-label="Copy to clipboard">
          <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
          <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Features Section -->
    <section class="section">
      <h2 class="section-title" data-i18n="features.title">Output Format</h2>
      <div class="output-example">
        <code>Codex: 5h:2h30m(5%) | 7d:3d12h(11%)</code>
      </div>
      <div class="table-container">
        <table class="feature-table">
          <thead>
            <tr>
              <th data-i18n="features.table.item">Item</th>
              <th data-i18n="features.table.description">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Codex:</code></td>
              <td data-i18n="features.prefix">Prefix (distinguishes from ccreset)</td>
            </tr>
            <tr>
              <td><code>5h:</code></td>
              <td data-i18n="features.5h">5-hour reset window</td>
            </tr>
            <tr>
              <td><code>2h30m</code></td>
              <td data-i18n="features.time">Time until reset</td>
            </tr>
            <tr>
              <td><code>(5%)</code></td>
              <td data-i18n="features.usage">Current usage (%)</td>
            </tr>
            <tr>
              <td><code>7d:</code></td>
              <td data-i18n="features.7d">7-day (weekly) reset window</td>
            </tr>
            <tr>
              <td><code>3d12h</code></td>
              <td data-i18n="features.time7d">Time until weekly reset</td>
            </tr>
            <tr>
              <td><code>(11%)</code></td>
              <td data-i18n="features.usage7d">Weekly usage (%)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Installation Section -->
    <section class="section">
      <h2 class="section-title" data-i18n="install.title">Installation</h2>

      <div class="install-methods">
        <div class="install-method">
          <h3 class="method-title">
            <span data-i18n="install.recommended">Recommended</span>
          </h3>
          <div class="code-block">
            <code>bunx cxreset</code>
            <button class="copy-btn" data-copy="bunx cxreset" aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="install-method">
          <h3 class="method-title" data-i18n="install.alternatives">Alternatives</h3>
          <div class="code-block">
            <code>npx cxreset</code>
            <button class="copy-btn" data-copy="npx cxreset" aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
          <div class="code-block">
            <code>pnpm dlx cxreset</code>
            <button class="copy-btn" data-copy="pnpm dlx cxreset" aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="install-method">
          <h3 class="method-title" data-i18n="install.global">Global Install</h3>
          <div class="code-block">
            <code>npm install -g cxreset</code>
            <button class="copy-btn" data-copy="npm install -g cxreset" aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Statusline Section -->
    <section class="section">
      <h2 class="section-title" data-i18n="statusline.title">Statusline Configuration</h2>
      <p class="section-description" data-i18n="statusline.description">Add to your Claude Code settings file:</p>
      <p class="file-path"><code>~/.claude/settings.json</code></p>

      <div class="install-methods">
        <div class="install-method">
          <h3 class="method-title" data-i18n="statusline.bun">Bun runtime</h3>
          <div class="code-block code-block-large">
            <pre><code>{
  "statusLine": {
    "type": "command",
    "command": "bunx cxreset"
  }
}</code></pre>
            <button class="copy-btn" data-copy='{"statusLine":{"type":"command","command":"bunx cxreset"}}' aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="install-method">
          <h3 class="method-title" data-i18n="statusline.node">Node.js-only runtime</h3>
          <div class="code-block code-block-large">
            <pre><code>{
  "statusLine": {
    "type": "command",
    "command": "npx cxreset"
  }
}</code></pre>
            <button class="copy-btn" data-copy='{"statusLine":{"type":"command","command":"npx cxreset"}}' aria-label="Copy to clipboard">
              <svg class="icon-copy" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
              <svg class="icon-check" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Requirements Section -->
    <section class="section">
      <h2 class="section-title" data-i18n="requirements.title">Requirements</h2>
      <ul class="requirements-list">
        <li data-i18n="requirements.runtime">Node.js 18+ or <a href="https://bun.sh/" target="_blank" rel="noopener">Bun</a> runtime</li>
        <li data-i18n="requirements.codex"><a href="https://github.com/openai/codex" target="_blank" rel="noopener">Codex CLI</a> installed and authenticated</li>
      </ul>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="https://github.com/beagleworks/cxreset" class="footer-link" target="_blank" rel="noopener">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          GitHub
        </a>
        <a href="https://www.npmjs.com/package/cxreset" class="footer-link" target="_blank" rel="noopener">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"/>
          </svg>
          npm
        </a>
      </div>
      <p class="footer-license">MIT License</p>
    </div>
  </footer>

  <script>
    // Translation data
    const translations = {
      en: {
        'hero.title': 'Display OpenAI Codex usage reset time',
        'hero.subtitle': 'A CLI tool that shows when your Codex usage limits will reset. Perfect for statusline integration.',
        'features.title': 'Output Format',
        'features.table.item': 'Item',
        'features.table.description': 'Description',
        'features.prefix': 'Prefix (distinguishes from ccreset)',
        'features.5h': '5-hour reset window',
        'features.time': 'Time until reset',
        'features.usage': 'Current usage (%)',
        'features.7d': '7-day (weekly) reset window',
        'features.time7d': 'Time until weekly reset',
        'features.usage7d': 'Weekly usage (%)',
        'install.title': 'Installation',
        'install.recommended': 'Recommended',
        'install.alternatives': 'Alternatives',
        'install.global': 'Global Install',
        'statusline.title': 'Statusline Configuration',
        'statusline.description': 'Add to your Claude Code settings file:',
        'statusline.bun': 'Bun runtime',
        'statusline.node': 'Node.js-only runtime',
        'requirements.title': 'Requirements',
        'requirements.runtime': 'Node.js 18+ or <a href="https://bun.sh/" target="_blank" rel="noopener">Bun</a> runtime',
        'requirements.codex': '<a href="https://github.com/openai/codex" target="_blank" rel="noopener">Codex CLI</a> installed and authenticated'
      },
      ja: {
        'hero.title': 'OpenAI Codex の使用量リセット時間を表示',
        'hero.subtitle': 'Codex の使用量制限がリセットされるまでの時間を表示するCLIツール。statusline での表示に最適。',
        'features.title': '出力形式',
        'features.table.item': '項目',
        'features.table.description': '説明',
        'features.prefix': 'プレフィクス（ccreset との差別化）',
        'features.5h': '5時間リセット枠',
        'features.time': 'リセットまでの残り時間',
        'features.usage': '使用量（%）',
        'features.7d': '7日間（週間）リセット枠',
        'features.time7d': '週間リセットまでの残り時間',
        'features.usage7d': '週間使用量（%）',
        'install.title': 'インストール',
        'install.recommended': '推奨',
        'install.alternatives': '代替',
        'install.global': 'グローバルインストール',
        'statusline.title': 'Statusline 設定',
        'statusline.description': 'Claude Code の設定ファイルに追加:',
        'statusline.bun': 'Bun ランタイム',
        'statusline.node': 'Node.js のみで使う場合',
        'requirements.title': '必要条件',
        'requirements.runtime': 'Node.js 18+ または <a href="https://bun.sh/" target="_blank" rel="noopener">Bun</a> ランタイム',
        'requirements.codex': '<a href="https://github.com/openai/codex" target="_blank" rel="noopener">Codex CLI</a> がインストール・認証済みであること'
      }
    };

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Load saved preferences
      const savedLang = localStorage.getItem('lang') || 'en';
      const savedTheme = localStorage.getItem('theme') || 'dark';

      setLanguage(savedLang);
      setTheme(savedTheme);

      // Language toggle
      document.getElementById('lang-toggle').addEventListener('click', () => {
        const currentLang = document.documentElement.lang;
        const newLang = currentLang === 'en' ? 'ja' : 'en';
        setLanguage(newLang);
        localStorage.setItem('lang', newLang);
      });

      // Theme toggle
      document.getElementById('theme-toggle').addEventListener('click', () => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
        localStorage.setItem('theme', newTheme);
      });

      // Copy buttons
      document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const text = btn.getAttribute('data-copy');
          navigator.clipboard.writeText(text).then(() => {
            btn.classList.add('copied');
            setTimeout(() => btn.classList.remove('copied'), 2000);
          });
        });
      });
    });

    function setLanguage(lang) {
      document.documentElement.lang = lang;
      document.querySelector('.lang-label').textContent = lang.toUpperCase();

      const t = translations[lang];
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
          if (t[key].includes('<')) {
            el.innerHTML = t[key];
          } else {
            el.textContent = t[key];
          }
        }
      });
    }

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
    }
  </script>
</body>
</html>
